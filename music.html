<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width">
<script type="module">
import { jsfx } from "./jsfx.js";
import { jsmusic } from "./jsmusic.js";

var sequence = "cegabCEGDD-a";

var modules = [
	jsfx.Module.Frequency,
	jsfx.Module.Vibrato,
	jsfx.Module.Guitar,
	jsfx.Module.Volume
];

var params = function(){
	return {
		Frequency: { Slide: (Math.random() - 0.5)/5 },
		Vibrato: {
			Depth: Math.random() / 10,
			Frequency: Math.random() * 10 + 5
		},
		Volume: { Master: 1, Attack: 0, Punch: 1, Release: 1, Decay: 3 }
	};
};

console.time("generate");
var song = jsmusic.Simple(sequence, params, 260, modules);
console.timeEnd("generate");

const btn = document.createElement("button");
document.body.appendChild(btn);
btn.textContent = "play";
btn.onclick = () => song.play();

</script>
